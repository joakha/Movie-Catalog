<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Movie Form</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link type="text/css" rel="stylesheet" href="/css/style.css" th:href="@{/css/style.css}" />
</head>

<body>

    <h1 th:text="${editing ? 'Edit Movie' : 'Add a New Movie'}"></h1>

    <form method="post" action="#" th:action="@{/addmovie}" th:object="${movie}">

            <input type="hidden" id="movieid" th:field="*{movieid}" />

            <label for="title">Title: <input type="text" id="title" th:field="*{title}" /></label>
            <p th:if="${#fields.hasErrors('title')}" th:errors="*{title}">Error</p>

            <label for="releaseYear">Year: <input type="number" id="releaseYear" th:field="*{releaseYear}" /></label>
            <p th:if="${#fields.hasErrors('releaseYear')}" th:errors="*{releaseYear}">Error</p>

            <label for="genre">Genre: <input type="text" id="genre" th:field="*{genre}" /></label>
            <p th:if="${#fields.hasErrors('genre')}" th:errors="*{genre}">Error</p>

            <label for="length">Length: <input type="number" id="length" th:field="*{length}" /></label>
            <p th:if="${#fields.hasErrors('length')}" th:errors="*{length}">Error</p>

            <label for="directorlist">Director:

                <select id="directorlist" th:field="*{director}">

                    <option th:each="director : ${directors}" th:value="${director.directorid}"
                        th:text="${director.name}"></option>

                </select></label>

            <input type="submit" value="Save" />

            <input type="reset" value="Reset" />

    </form>

</body>

</html>