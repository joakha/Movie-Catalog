<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Review Form</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link type="text/css" rel="stylesheet" href="/css/formstyle.css" th:href="@{/css/formstyle.css}" />
</head>

<body>

    <h1 th:text="${editing ? 'Edit Review' : 'Add a New Review'}"></h1>

    <form method="post" action="#" th:action="@{/addreview}" th:object="${review}">

        <input type="hidden" id="reviewid" th:field="*{reviewid}" />

        <label for="score">Score: <input type="number" id="score" th:field="*{score}" /></label>
        <p th:if="${#fields.hasErrors('score')}" th:errors="*{score}">Error</p>

        <label for="comment">Comment: <input type="text" id="comment" th:field="*{comment}" /></label>
        <p th:if="${#fields.hasErrors('comment')}" th:errors="*{comment}">Error</p>

        <label for="movielist">Movie:

            <select id="movielist" th:field="*{movie}">

                <option th:each="movie : ${movies}" th:value="${movie.movieid}" th:text="${movie.title}"></option>

            </select></label>

        <input type="submit" value="Save" />
        <input type="reset" value="Reset" />
        <input type="button" value="Cancel" onclick="cancel()" />

    </form>

    <script>

        const cancel = () => {

            window.location.href ="/reviewlist";

        }

    </script>

</body>

</html>